<!DOCTYPE html>
<html>
<body>
<link rel="stylesheet" type="text/css" href="grid.css">
<link rel="stylesheet" type="text/css" href="menu.css">
<link rel="stylesheet" type="text/css" href="fontawesome.css">
<script src="jquery.js"></script>
<script src="glue.js"></script>
<script src="divs.js"></script>
<script src="dataset.js"></script>
<script src="grid.js"></script>
<script src="menu.js"></script>
<div id=div1></div>
<div id=div2></div>
<div id=div0>press for menu</div>
<script>

function act() { print(this.title) }
var m = menu({
	actions: [
		{title: 'Open', on: act},
		{title: 'Close', enabled: false, on: act, separator: true},
		{title: 'More', actions: [
			{title: 'Check', checked: true},
			{title: 'Check No Close', checked: true, on: function() { return false } },
			{title: 'More Stuff', actions: [
				{title: 'More Stuff 1'},
				{title: 'More Stuff 2', on: act},
			]},
		]},
		{title: 'Even More', actions: [
			{title: 'Even More Stuff 1'},
			{title: 'Even More Stuff 2'},
		]},
	],
})

div0.on('click', function() {
	m.popup(100, 400)
})

var data = {
	fields: [
		{name: 'id', type: 'number', align: 'right', editable: false, w: 50, min_w: 30},
		{name: 'name', w: 100, min_w: 100, max_w: 200},
		{name: 'parent_id', type: 'number', w: 100, min_w: 50,
			allow_null: true, editable: false, focusable: false},
		{name: 'comment', w: 200, allow_null: true},
	],
	rows: [
		//{values: [0,'z',null]},
		//{values: [1,'y',null]},
		// {values: [2,'x',0]},
		// {values: [3,'d',0]},
		// {values: [4,'e',2]},
		// {values: [5,'f',2]},
		// {values: [6,'g very long long text to try out',5]},
	],
}

for (var i = 0; i < 20; i++) {
	data.rows.push({focusable: i % 2 == 0, values: [i, 'record '+i, floor((random() * i))]})
}

var d = dataset(data)

var g1 = grid({
	dataset: d,
	parent: div1,
	h: 100,
	row_border_h: 1,
	row_h: 24,
	//row_border_h: 30,
	//order_by: 'parent_id, name desc',
})

var g2 = grid({
	dataset: d,
	parent: div2,
	h: 200,
	row_h: 40,
	//order_by: 'parent_id, name desc',
})

</script>
</body>
</html>
